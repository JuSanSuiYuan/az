// 完整功能测试程序
// 测试模式匹配、for循环和数组切片

// 定义结构体
struct Point {
    x: int,
    y: int
}

// 定义枚举
enum Color {
    Red,
    Green,
    Blue
}

// 测试数组和切片
fn test_arrays() int {
    // 数组字面量
    let arr = [1, 2, 3, 4, 5];
    
    // 访问数组元素
    let first = arr[0];
    let last = arr[4];
    
    return 0;
}

// 测试for循环
fn test_for_loop() int {
    // 传统for循环
    for (let i = 0; i < 10; i = i + 1) {
        println("i = {}", i);
    }
    
    // 简化for循环
    for (let i = 0; i < 5; i++) {
        println("简化循环: i = {}", i);
    }
    
    return 0;
}

// 测试模式匹配
fn test_match() int {
    let color = Color.Red;
    
    match (color) {
        Color.Red => {
            println("颜色是红色");
        },
        Color.Green => {
            println("颜色是绿色");
        },
        Color.Blue => {
            println("颜色是蓝色");
        },
        _ => {
            println("未知颜色");
        }
    }
    
    // 结构体模式匹配
    let point = Point { x: 10, y: 20 };
    
    match (point) {
        Point { x: 0, y: 0 } => {
            println("原点");
        },
        Point { x, y: 0 } => {
            println("X轴上的点: x = {}", x);
        },
        Point { x: 0, y } => {
            println("Y轴上的点: y = {}", y);
        },
        Point { x, y } => {
            println("普通点: ({}, {})", x, y);
        }
    }
    
    return 0;
}

fn main() int {
    test_arrays();
    test_for_loop();
    test_match();
    
    return 0;
}