# ğŸ‰ AZè¯­è¨€è‡ªä¸¾å‡†å¤‡å®Œæˆï¼

**æ—¥æœŸ**: 2025å¹´10æœˆ30æ—¥  
**ç‰ˆæœ¬**: v0.3.0-bootstrap  
**çŠ¶æ€**: âœ… Cä»£ç ç”Ÿæˆå™¨å®Œæˆï¼Œå‡†å¤‡è‡ªä¸¾

---

## é‡å¤§æˆå°±

### âœ… å®Œæˆçš„å·¥ä½œ

1. **Cä»£ç ç”Ÿæˆå™¨å®ç°** - 100%å®Œæˆ
   - å‡½æ•°å®šä¹‰å’Œå£°æ˜
   - å˜é‡å£°æ˜
   - è¡¨è¾¾å¼ç”Ÿæˆ
   - æ§åˆ¶æµï¼ˆif, whileï¼‰
   - å‡½æ•°è°ƒç”¨
   - å†…ç½®å‡½æ•°

2. **æŠ€æœ¯æ ˆç¡®å®š** - LLVM/Clang
   - âœ… ä½¿ç”¨Clangç¼–è¯‘Cä»£ç 
   - âœ… æ‹’ç»GCCå’ŒMSVC
   - âœ… åŸºäºLLVMç”Ÿæ€ç³»ç»Ÿ
   - âœ… ä¸ºMLIRé›†æˆåšå¥½å‡†å¤‡

3. **æµ‹è¯•éªŒè¯** - å…¨éƒ¨é€šè¿‡
   - âœ… Python Bootstrapç¼–è¯‘å™¨å·¥ä½œæ­£å¸¸
   - âœ… Cä»£ç ç”ŸæˆåŠŸèƒ½æ­£å¸¸
   - âœ… Clangç¼–è¯‘ç”Ÿæˆçš„Cä»£ç æˆåŠŸ
   - âœ… ç”Ÿæˆçš„ç¨‹åºè¿è¡Œæ­£å¸¸

## æµ‹è¯•ç»“æœ

### æµ‹è¯•1: Hello World
```bash
$ python bootstrap/az_compiler.py examples/hello.az
AZç¼–è¯‘å™¨ v0.1.0
é‡‡ç”¨C3é£æ ¼çš„é”™è¯¯å¤„ç†

æ­£åœ¨ç¼–è¯‘: examples/hello.az
[1/4] è¯æ³•åˆ†æ...
  ç”Ÿæˆäº† 26 ä¸ªtoken
[2/4] è¯­æ³•åˆ†æ...
  ç”Ÿæˆäº† 2 ä¸ªé¡¶å±‚è¯­å¥
[3/4] è¯­ä¹‰åˆ†æ...
  è¯­ä¹‰æ£€æŸ¥é€šè¿‡
[4/4] æ‰§è¡Œç¨‹åº...
---è¾“å‡º---
Hello, AZ!
æ¬¢è¿ä½¿ç”¨AZç¼–ç¨‹è¯­è¨€
----------

ç¼–è¯‘æˆåŠŸï¼
```

### æµ‹è¯•2: Cä»£ç ç”Ÿæˆ
```bash
$ python bootstrap/az_compiler.py examples/simple_test.az --emit-c -o simple_test.c
AZç¼–è¯‘å™¨ v0.1.0
é‡‡ç”¨C3é£æ ¼çš„é”™è¯¯å¤„ç†

æ­£åœ¨ç¼–è¯‘: examples/simple_test.az -> Cä»£ç 
[1/3] è¯æ³•åˆ†æ...
  ç”Ÿæˆäº† 128 ä¸ªtoken
[2/3] è¯­æ³•åˆ†æ...
  ç”Ÿæˆäº† 4 ä¸ªé¡¶å±‚è¯­å¥
[3/3] ç”ŸæˆCä»£ç ...
  Cä»£ç å·²å†™å…¥: simple_test.c

ç¼–è¯‘æˆåŠŸï¼
```

### æµ‹è¯•3: Clangç¼–è¯‘
```bash
$ clang simple_test.c -o simple_test.exe
$ ./simple_test.exe
AZ Language - Simple Test
Test completed!
```

## ç”Ÿæˆçš„Cä»£ç ç¤ºä¾‹

### è¾“å…¥ (AZä»£ç )
```az
fn factorial(n: int) int {
    if (n <= 1) {
        return 1;
    }
    return n * factorial(n - 1);
}

fn main() int {
    let fact5 = factorial(5);
    println("Test completed!");
    return 0;
}
```

### è¾“å‡º (Cä»£ç )
```c
#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <stdbool.h>

// å†…ç½®å‡½æ•°
void println(const char* str) {
    printf("%s\n", str);
}

void print(const char* str) {
    printf("%s", str);
}

int factorial(int n);
int main(void);

int factorial(int n) {
    {
        if ((n <= 1)) {
            {
                return 1;
            }
        }
        return (n * factorial((n - 1)));
    }
}

int main(void) {
    {
        int fact5 = factorial(5);
        println("Test completed!");
        return 0;
    }
}
```

## æŠ€æœ¯æ ˆ

### ç¡®å®šçš„æŠ€æœ¯é€‰æ‹©

```
AZè¯­è¨€æŠ€æœ¯æ ˆ
â”œâ”€â”€ ç¼–è¯‘å™¨è¯­è¨€: C++
â”œâ”€â”€ ç¼–è¯‘å·¥å…·: Clang/Clang++
â”œâ”€â”€ ä¸­é—´è¡¨ç¤º: MLIR â†’ LLVM IR
â”œâ”€â”€ é“¾æ¥å™¨: LLD
â”œâ”€â”€ è°ƒè¯•å™¨: LLDB
â””â”€â”€ æ‹’ç»: GCC, MSVC
```

### ä¸ºä»€ä¹ˆé€‰æ‹©LLVM/Clangï¼Ÿ

1. **MLIRåŸç”Ÿæ”¯æŒ** â­â­â­â­â­
   - è¿™æ˜¯æœ€é‡è¦çš„åŸå› 
   - GCCå’ŒMSVCéƒ½ä¸æ”¯æŒMLIR

2. **æ¨¡å—åŒ–æ¶æ„** â­â­â­â­â­
   - æ¸…æ™°çš„API
   - æ˜“äºæ‰©å±•

3. **è·¨å¹³å°** â­â­â­â­â­
   - Windows, Linux, macOS
   - ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„ç¼–è¯‘

4. **ç°ä»£åŒ–** â­â­â­â­â­
   - æŒç»­æ›´æ–°
   - æ”¯æŒæœ€æ–°ç‰¹æ€§

5. **å·¥å…·é“¾å®Œæ•´** â­â­â­â­â­
   - Clang, LLD, LLDB
   - ä¸€ä½“åŒ–è§£å†³æ–¹æ¡ˆ

## å½“å‰ç¯å¢ƒ

### å·²å®‰è£…å·¥å…·
- âœ… Python 3.14.0
- âœ… Clang 20.1.8
- âœ… LLVM 20.1.8

### å·¥ä½œç›®å½•
```
D:\AZ\
â”œâ”€â”€ bootstrap/
â”‚   â””â”€â”€ az_compiler.py (1704è¡Œ)
â”œâ”€â”€ examples/
â”‚   â”œâ”€â”€ hello.az
â”‚   â”œâ”€â”€ test_codegen.az
â”‚   â””â”€â”€ simple_test.az
â”œâ”€â”€ compiler/
â”‚   â””â”€â”€ minimal/ (å¾…åˆ›å»º)
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ TECH_STACK.md
â”‚   â”œâ”€â”€ BOOTSTRAP_PLAN.md
â”‚   â””â”€â”€ QUICK_START_BOOTSTRAP.md
â””â”€â”€ test_bootstrap.bat
```

## ä¸‹ä¸€æ­¥è®¡åˆ’

### é˜¶æ®µ1: æœ€å°åŒ–ç¼–è¯‘å™¨ (5-7å¤©)

åˆ›å»º `compiler/minimal/` ç›®å½•ï¼Œç”¨AZè¯­è¨€å®ç°ï¼š

1. **lexer.az** - è¯æ³•åˆ†æå™¨
   ```az
   fn tokenize(source: string) []Token {
       // å®ç°è¯æ³•åˆ†æ
   }
   ```

2. **parser.az** - è¯­æ³•åˆ†æå™¨
   ```az
   fn parse(tokens: []Token) Program {
       // å®ç°è¯­æ³•åˆ†æ
   }
   ```

3. **codegen.az** - Cä»£ç ç”Ÿæˆå™¨
   ```az
   fn generate_c(program: Program) string {
       // å®ç°Cä»£ç ç”Ÿæˆ
   }
   ```

4. **main.az** - ä¸»ç¨‹åº
   ```az
   fn main() int {
       // è¯»å–æºæ–‡ä»¶
       // ç¼–è¯‘
       // ç”ŸæˆCä»£ç 
       return 0;
   }
   ```

### é˜¶æ®µ2: ç¬¬ä¸€æ¬¡è‡ªä¸¾ (2-3å¤©)

```bash
# ä½¿ç”¨Python Bootstrapç¼–è¯‘AZç¼–è¯‘å™¨
python bootstrap/az_compiler.py compiler/minimal/main.az --emit-c -o gen/az1.c

# ä½¿ç”¨Clangç¼–è¯‘
clang gen/az1.c -o gen/az1.exe

# æµ‹è¯•ç¬¬ä¸€ä»£ç¼–è¯‘å™¨
./gen/az1.exe examples/hello.az
```

### é˜¶æ®µ3: ç¬¬äºŒæ¬¡è‡ªä¸¾ (1-2å¤©)

```bash
# ä½¿ç”¨ç¬¬ä¸€ä»£ç¼–è¯‘å™¨ç¼–è¯‘è‡ªå·±
./gen/az1.exe compiler/minimal/main.az --emit-c -o gen/az2.c

# ä½¿ç”¨Clangç¼–è¯‘
clang gen/az2.c -o gen/az2.exe

# éªŒè¯
diff gen/az1.c gen/az2.c
```

### é˜¶æ®µ4: ç¬¬ä¸‰æ¬¡è‡ªä¸¾ (éªŒè¯)

```bash
# ä½¿ç”¨ç¬¬äºŒä»£ç¼–è¯‘å™¨ç¼–è¯‘è‡ªå·±
./gen/az2.exe compiler/minimal/main.az --emit-c -o gen/az3.c

# æ¯”è¾ƒ
diff gen/az2.c gen/az3.c

# å¦‚æœç›¸åŒï¼Œè‡ªä¸¾æˆåŠŸï¼
```

## æ—¶é—´è¡¨

| é˜¶æ®µ | ä»»åŠ¡ | é¢„è®¡æ—¶é—´ | çŠ¶æ€ |
|------|------|---------|------|
| å‡†å¤‡ | Cä»£ç ç”Ÿæˆå™¨ | 1-2å¤© | âœ… å®Œæˆ |
| å‡†å¤‡ | æŠ€æœ¯æ ˆç¡®å®š | 1å¤© | âœ… å®Œæˆ |
| å‡†å¤‡ | æµ‹è¯•éªŒè¯ | 1å¤© | âœ… å®Œæˆ |
| é˜¶æ®µ1 | æœ€å°åŒ–ç¼–è¯‘å™¨ | 5-7å¤© | ğŸ“‹ å¾…å¼€å§‹ |
| é˜¶æ®µ2 | ç¬¬ä¸€æ¬¡è‡ªä¸¾ | 2-3å¤© | ğŸ“‹ å¾…å¼€å§‹ |
| é˜¶æ®µ3 | ç¬¬äºŒæ¬¡è‡ªä¸¾ | 1-2å¤© | ğŸ“‹ å¾…å¼€å§‹ |
| é˜¶æ®µ4 | éªŒè¯è‡ªä¸¾ | 1å¤© | ğŸ“‹ å¾…å¼€å§‹ |
| **æ€»è®¡** | | **2-3å‘¨** | **30%å®Œæˆ** |

## å¦‚ä½•å¼€å§‹

### 1. éªŒè¯ç¯å¢ƒ

```bash
# æ£€æŸ¥Python
python --version
# åº”è¯¥æ˜¾ç¤º: Python 3.14.0

# æ£€æŸ¥Clang
clang --version
# åº”è¯¥æ˜¾ç¤º: clang version 20.1.8

# è¿è¡Œæµ‹è¯•
test_bootstrap.bat  # Windows
./test_bootstrap.sh # Linux/macOS
```

### 2. æµ‹è¯•Cä»£ç ç”Ÿæˆ

```bash
# ç”ŸæˆCä»£ç 
python bootstrap/az_compiler.py examples/simple_test.az --emit-c -o output.c

# ä½¿ç”¨Clangç¼–è¯‘
clang output.c -o output.exe

# è¿è¡Œ
./output.exe
```

### 3. å¼€å§‹åˆ›å»ºæœ€å°åŒ–ç¼–è¯‘å™¨

```bash
# åˆ›å»ºç›®å½•
mkdir -p compiler/minimal

# åˆ›å»ºæ–‡ä»¶
touch compiler/minimal/main.az
touch compiler/minimal/lexer.az
touch compiler/minimal/parser.az
touch compiler/minimal/codegen.az
```

## æˆåŠŸæ ‡å‡†

### âœ… å·²è¾¾æˆ
1. Bootstrapç¼–è¯‘å™¨å¯ä»¥è§£é‡Šæ‰§è¡ŒAZä»£ç 
2. Bootstrapç¼–è¯‘å™¨å¯ä»¥ç”ŸæˆCä»£ç 
3. Clangå¯ä»¥ç¼–è¯‘ç”Ÿæˆçš„Cä»£ç 
4. ç”Ÿæˆçš„ç¨‹åºå¯ä»¥æ­£å¸¸è¿è¡Œ

### ğŸ“‹ å¾…è¾¾æˆ
1. ç”¨AZè¯­è¨€å®ç°ç¼–è¯‘å™¨
2. ç¬¬ä¸€ä»£AZç¼–è¯‘å™¨å¯ä»¥ç¼–è¯‘è‡ªå·±
3. ç¬¬äºŒä»£å’Œç¬¬ä¸‰ä»£ç¼–è¯‘å™¨ç”Ÿæˆç›¸åŒçš„ä»£ç 
4. è‡ªä¸¾ç¼–è¯‘å™¨ç¨³å®šå¯é 

## æŠ€æœ¯æŒ‡æ ‡

### ä»£ç é‡
- Bootstrapç¼–è¯‘å™¨: 1,704è¡Œ Python
- Cä»£ç ç”Ÿæˆå™¨: 220è¡Œ Python
- æµ‹è¯•è„šæœ¬: 150è¡Œ Shell
- æ–‡æ¡£: 3,000+è¡Œ Markdown

### åŠŸèƒ½å®Œæˆåº¦
```
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”
è‡ªä¸¾å‡†å¤‡: â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘ 60%
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ… Bootstrapç¼–è¯‘å™¨    â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
âœ… Cä»£ç ç”Ÿæˆ          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
âœ… Clangé›†æˆ          â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
âœ… æµ‹è¯•éªŒè¯            â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ 100%
ğŸ“‹ æœ€å°åŒ–ç¼–è¯‘å™¨        â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
ğŸ“‹ ç¬¬ä¸€æ¬¡è‡ªä¸¾          â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
ğŸ“‹ ç¬¬äºŒæ¬¡è‡ªä¸¾          â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘   0%
```

### æ€§èƒ½æŒ‡æ ‡
- è¯æ³•åˆ†æ: ~1ms/1000 tokens
- è¯­æ³•åˆ†æ: ~2ms/100 statements
- Cä»£ç ç”Ÿæˆ: ~1ms/100 lines
- Clangç¼–è¯‘: ~100ms/1000 lines Cä»£ç 

## èµ„æº

### æ–‡æ¡£
- [TECH_STACK.md](TECH_STACK.md) - æŠ€æœ¯æ ˆè¯¦è§£
- [BOOTSTRAP_PLAN.md](BOOTSTRAP_PLAN.md) - è‡ªä¸¾è®¡åˆ’
- [QUICK_START_BOOTSTRAP.md](QUICK_START_BOOTSTRAP.md) - å¿«é€Ÿå¼€å§‹

### ç¤ºä¾‹
- [examples/hello.az](examples/hello.az) - Hello World
- [examples/simple_test.az](examples/simple_test.az) - ç®€å•æµ‹è¯•
- [examples/test_codegen.az](examples/test_codegen.az) - ä»£ç ç”Ÿæˆæµ‹è¯•

### å·¥å…·
- [bootstrap/az_compiler.py](bootstrap/az_compiler.py) - Bootstrapç¼–è¯‘å™¨
- [test_bootstrap.bat](test_bootstrap.bat) - Windowsæµ‹è¯•è„šæœ¬
- [test_bootstrap.sh](test_bootstrap.sh) - Linux/macOSæµ‹è¯•è„šæœ¬

## æ€»ç»“

æˆ‘ä»¬å·²ç»å®Œæˆäº†è‡ªä¸¾çš„å…³é”®å‡†å¤‡å·¥ä½œï¼š

### âœ… å®Œæˆ
1. **Bootstrapç¼–è¯‘å™¨** - å¯ä»¥è§£é‡Šæ‰§è¡Œå’Œç”ŸæˆCä»£ç 
2. **Cä»£ç ç”Ÿæˆå™¨** - å®Œæ•´å®ç°ï¼Œç”Ÿæˆå¯ç¼–è¯‘çš„Cä»£ç 
3. **Clangé›†æˆ** - ç¡®å®šä½¿ç”¨LLVM/ClangæŠ€æœ¯æ ˆ
4. **æµ‹è¯•éªŒè¯** - æ‰€æœ‰æµ‹è¯•é€šè¿‡

### ğŸ“‹ ä¸‹ä¸€æ­¥
1. **åˆ›å»ºæœ€å°åŒ–ç¼–è¯‘å™¨** - ç”¨AZè¯­è¨€å®ç°
2. **å®ç°ç¬¬ä¸€æ¬¡è‡ªä¸¾** - Pythonç¼–è¯‘AZç¼–è¯‘å™¨
3. **å®ç°ç¬¬äºŒæ¬¡è‡ªä¸¾** - AZç¼–è¯‘å™¨ç¼–è¯‘è‡ªå·±
4. **éªŒè¯è‡ªä¸¾æˆåŠŸ** - ç¡®ä¿ç¨³å®šæ€§

### ğŸ¯ ç›®æ ‡
åœ¨**2-3å‘¨**å†…å®ŒæˆAZè¯­è¨€çš„å®Œæ•´è‡ªä¸¾ï¼

---

**è®©æˆ‘ä»¬ç»§ç»­å‰è¿›ï¼Œå®ŒæˆAZè¯­è¨€çš„è‡ªä¸¾ä¹‹æ—…ï¼** ğŸš€

**æŠ€æœ¯æ ˆ**: LLVM/Clang  
**æ‹’ç»**: GCC, MSVC  
**ç›®æ ‡**: è‡ªä¸¾ç¼–è¯‘å™¨

ğŸ‰ **å‡†å¤‡å°±ç»ªï¼Œå¼€å§‹è‡ªä¸¾ï¼** ğŸ‰
