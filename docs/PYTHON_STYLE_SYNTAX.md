# Python风格语法特性计划

本文档描述了AZ语言未来版本中计划支持的Python风格语法特性，特别是使用缩进来取代大括号。

## 目录

1. [概述](#概述)
2. [当前语法](#当前语法)
3. [计划中的Python风格语法](#计划中的python风格语法)
4. [实现挑战](#实现挑战)
5. [兼容性考虑](#兼容性考虑)

## 概述

AZ语言计划在未来版本中支持Python风格的语法特性，包括使用缩进来表示代码块，取代传统的花括号语法。这种语法风格具有以下优点：

1. **更简洁**：减少了大括号的使用
2. **更易读**：缩进直观地显示了代码结构
3. **更一致**：强制统一的代码格式
4. **更少错误**：避免了忘记闭合大括号的错误

## 当前语法

目前AZ语言使用传统的花括号语法：

```az
fn main() int {
    println("Hello, AZ!");
    
    if (condition) {
        println("条件为真");
    } else {
        println("条件为假");
    }
    
    return 0;
}
```

## 计划中的Python风格语法

未来版本的AZ语言将支持Python风格的缩进语法：

```az
// Python风格缩进示例
fn main() int:
    println("Hello, AZ!")
    
    if condition:
        println("条件为真")
    else:
        println("条件为假")
    
    return 0

// 函数定义
fn calculate_area(length: int, width: int) int:
    let area = length * width
    return area

// 控制结构
var i = 1
while i <= 5:
    print("  ")
    println(i)
    i = i + 1

// 多层嵌套
if x > 0:
    if y > 0:
        println("两个数都为正")
    else:
        println("只有x为正")
else:
    println("x为负或零")
```

## 实现挑战

实现Python风格的缩进语法面临以下挑战：

1. **词法分析器修改**：
   - 需要跟踪缩进级别
   - 生成INDENT和DEDENT虚拟标记
   - 处理空格和制表符的一致性

2. **语法分析器修改**：
   - 修改语句块的解析逻辑
   - 调整所有需要代码块的语法结构

3. **错误处理**：
   - 提供清晰的缩进错误信息
   - 处理不一致的缩进（混合使用空格和制表符）

## 兼容性考虑

为了保持向后兼容性，我们计划：

1. **双语法支持**：在同一版本中同时支持花括号和缩进语法
2. **迁移工具**：提供工具帮助用户将现有代码转换为新语法
3. **配置选项**：允许项目级别配置使用哪种语法风格

## 总结

Python风格的缩进语法将使AZ语言更加现代化和易用，同时保持其系统编程的核心优势。这一特性将在未来的版本中逐步实现。